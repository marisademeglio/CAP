{%- macro BlogPostSnippet(post) -%}
{%- import "components/tag.njk" as Tag -%}

<article class="post-snippet">
    <h3><a href="{{ post.url | url }}">{{ post.data.title }}</a></h3>
    <div class="post-meta">
        <p class="date">{{ post.date | readableDate }}</p>
        {%- set tags = post.data.tags | filterTags -%}
        {%- if tags.length > 0 -%}
        <p>
            <span class="label">Tags:</span>
            {%- for tag in tags -%}
            {{ Tag.Tag(tag) }}
            {%- endfor -%}
        </p>
        {%- endif -%}
    </div>
    <p>{{ post.templateContent | truncate(250) | safe }}... (<a href="{{ post.url | url }}">more</a>)</p>
</article>

{%- endmacro -%}